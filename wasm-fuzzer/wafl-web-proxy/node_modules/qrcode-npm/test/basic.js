var tap = require('tap');

var qrcode = require('../qrcode');

tap.test('basic', function(t) {
  var text = 'Hello World';
  
  var qr = qrcode.qrcode(4, 'M');
  qr.addData(text);
  qr.make();
  var imgTag = qr.createImgTag(4);
  t.deepEqual(imgTag, '<img src="data:image/gif;base64,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" width="164" height="164"/>', 'imgTag');
  
  t.end()
});
